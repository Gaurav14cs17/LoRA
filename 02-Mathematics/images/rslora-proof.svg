<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 300">
  <rect width="800" height="300" rx="12" fill="#0f172a"/>
  <text x="400" y="35" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="18" font-weight="bold">rsLoRA Scaling Correction: Variance Analysis</text>

  <!-- Standard LoRA variance -->
  <rect x="25" y="60" width="355" height="180" rx="10" fill="#1e293b" stroke="#ef4444" stroke-width="1.5"/>
  <text x="202" y="85" text-anchor="middle" fill="#ef4444" font-family="Arial,sans-serif" font-size="13" font-weight="bold">Standard: scaling = &#945;/r</text>
  <line x1="45" y1="95" x2="360" y2="95" stroke="#334155" stroke-width="1"/>
  <text x="45" y="118" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="11">Var(BAx) = r &#183; Var(b) &#183; Var(a) &#183; Var(x)</text>
  <text x="45" y="142" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="11">After scaling: (&#945;/r)&#178; &#183; r &#183; &#963;&#178;</text>
  <text x="45" y="166" fill="#f59e0b" font-family="Arial,sans-serif" font-size="11" font-weight="bold">= &#945;&#178;&#963;&#178; / r</text>
  <text x="45" y="195" fill="#ef4444" font-family="Arial,sans-serif" font-size="11">&#8594; Var depends on r!</text>
  <text x="45" y="218" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">r=4: &#945;&#178;&#963;&#178;/4</text>
  <text x="45" y="233" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">r=64: &#945;&#178;&#963;&#178;/64 (16x smaller!)</text>

  <!-- rsLoRA variance -->
  <rect x="420" y="60" width="355" height="180" rx="10" fill="#1e293b" stroke="#10b981" stroke-width="1.5"/>
  <text x="597" y="85" text-anchor="middle" fill="#10b981" font-family="Arial,sans-serif" font-size="13" font-weight="bold">rsLoRA: scaling = &#945;/&#8730;r</text>
  <line x1="440" y1="95" x2="755" y2="95" stroke="#334155" stroke-width="1"/>
  <text x="440" y="118" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="11">Var(BAx) = r &#183; Var(b) &#183; Var(a) &#183; Var(x)</text>
  <text x="440" y="142" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="11">After scaling: (&#945;/&#8730;r)&#178; &#183; r &#183; &#963;&#178;</text>
  <text x="440" y="166" fill="#f59e0b" font-family="Arial,sans-serif" font-size="11" font-weight="bold">= &#945;&#178;&#963;&#178;</text>
  <text x="440" y="195" fill="#10b981" font-family="Arial,sans-serif" font-size="11">&#8594; Var independent of r!</text>
  <text x="440" y="218" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">r=4: &#945;&#178;&#963;&#178;</text>
  <text x="440" y="233" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">r=64: &#945;&#178;&#963;&#178; (same!)</text>

  <text x="400" y="275" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="12">Key: &#8730;r cancels the r from summing r independent random variables in BA</text>
  <text x="400" y="295" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">This means you can change rank without re-tuning learning rate</text>
</svg>
