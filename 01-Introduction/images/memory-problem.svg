<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
    <linearGradient id="g2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="g3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
  </defs>
  <rect width="800" height="400" rx="12" fill="#0f172a"/>
  <text x="400" y="38" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="18" font-weight="bold">GPU Memory Required for Fine-Tuning (LLaMA-7B)</text>

  <!-- Full FT bar -->
  <rect x="80" y="70" width="600" height="55" rx="6" fill="url(#g1)" opacity="0.9"/>
  <text x="90" y="103" fill="white" font-family="Arial,sans-serif" font-size="14" font-weight="bold">Full Fine-Tuning: ~120 GB</text>
  <text x="670" y="103" fill="white" font-family="Arial,sans-serif" font-size="12" text-anchor="end">Weights + Optimizer + Gradients</text>

  <!-- Segments -->
  <rect x="80" y="132" width="200" height="32" rx="4" fill="#ef4444" opacity="0.7"/>
  <text x="180" y="153" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11">Weights 14 GB</text>
  <rect x="285" y="132" width="200" height="32" rx="4" fill="#f87171" opacity="0.7"/>
  <text x="385" y="153" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11">Adam States 56 GB</text>
  <rect x="490" y="132" width="190" height="32" rx="4" fill="#fca5a5" opacity="0.7"/>
  <text x="585" y="153" text-anchor="middle" fill="#7f1d1d" font-family="Arial,sans-serif" font-size="11">Gradients + Activations</text>

  <!-- LoRA bar -->
  <rect x="80" y="195" width="160" height="55" rx="6" fill="url(#g2)" opacity="0.9"/>
  <text x="90" y="228" fill="white" font-family="Arial,sans-serif" font-size="14" font-weight="bold">LoRA: ~32 GB</text>
  <rect x="250" y="195" width="430" height="55" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" stroke-dasharray="4,4"/>
  <text x="465" y="228" text-anchor="middle" fill="#64748b" font-family="Arial,sans-serif" font-size="13">Saved (frozen weights, no optimizer for W)</text>

  <!-- QLoRA bar -->
  <rect x="80" y="280" width="48" height="55" rx="6" fill="url(#g3)" opacity="0.9"/>
  <text x="140" y="313" fill="#10b981" font-family="Arial,sans-serif" font-size="14" font-weight="bold">QLoRA: ~6 GB</text>
  <rect x="138" y="280" width="542" height="55" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1" stroke-dasharray="4,4"/>
  <text x="410" y="313" text-anchor="middle" fill="#64748b" font-family="Arial,sans-serif" font-size="13">Saved (4-bit weights + LoRA adapters only)</text>

  <!-- Legend -->
  <text x="80" y="372" fill="#94a3b8" font-family="Arial,sans-serif" font-size="12">Trainable parameters:</text>
  <text x="235" y="372" fill="#ef4444" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Full FT: 100%</text>
  <text x="395" y="372" fill="#f59e0b" font-family="Arial,sans-serif" font-size="12" font-weight="bold">LoRA: 0.1%</text>
  <text x="530" y="372" fill="#10b981" font-family="Arial,sans-serif" font-size="12" font-weight="bold">QLoRA: 0.1% + 4-bit base</text>
</svg>
