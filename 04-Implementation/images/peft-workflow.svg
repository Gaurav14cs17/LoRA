<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 260">
  <defs>
    <marker id="apw" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0,0 8,3 0,6" fill="#475569"/>
    </marker>
  </defs>
  <rect width="800" height="260" rx="12" fill="#0f172a"/>
  <text x="400" y="35" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="18" font-weight="bold">HuggingFace PEFT Workflow</text>

  <!-- Step 1 -->
  <rect x="15" y="65" width="130" height="80" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="98" text-anchor="middle" fill="#3b82f6" font-family="Arial,sans-serif" font-size="12" font-weight="bold">1. Load Base</text>
  <text x="80" y="118" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">AutoModel</text>
  <text x="80" y="132" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">.from_pretrained()</text>
  <line x1="145" y1="105" x2="165" y2="105" stroke="#475569" stroke-width="2" marker-end="url(#apw)"/>

  <!-- Step 2 -->
  <rect x="170" y="65" width="120" height="80" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="230" y="98" text-anchor="middle" fill="#f59e0b" font-family="Arial,sans-serif" font-size="12" font-weight="bold">2. Configure</text>
  <text x="230" y="118" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">LoraConfig(</text>
  <text x="230" y="132" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">r, alpha, ...)</text>
  <line x1="290" y1="105" x2="310" y2="105" stroke="#475569" stroke-width="2" marker-end="url(#apw)"/>

  <!-- Step 3 -->
  <rect x="315" y="65" width="120" height="80" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
  <text x="375" y="98" text-anchor="middle" fill="#10b981" font-family="Arial,sans-serif" font-size="12" font-weight="bold">3. Inject</text>
  <text x="375" y="118" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">get_peft_model(</text>
  <text x="375" y="132" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">model, config)</text>
  <line x1="435" y1="105" x2="455" y2="105" stroke="#475569" stroke-width="2" marker-end="url(#apw)"/>

  <!-- Step 4 -->
  <rect x="460" y="65" width="120" height="80" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="520" y="98" text-anchor="middle" fill="#8b5cf6" font-family="Arial,sans-serif" font-size="12" font-weight="bold">4. Train</text>
  <text x="520" y="118" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">SFTTrainer /</text>
  <text x="520" y="132" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">Trainer.train()</text>
  <line x1="580" y1="105" x2="600" y2="105" stroke="#475569" stroke-width="2" marker-end="url(#apw)"/>

  <!-- Step 5 -->
  <rect x="605" y="65" width="175" height="80" rx="8" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
  <text x="692" y="93" text-anchor="middle" fill="#ec4899" font-family="Arial,sans-serif" font-size="12" font-weight="bold">5. Save / Merge</text>
  <text x="692" y="113" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">save_pretrained()</text>
  <text x="692" y="132" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="9">merge_and_unload()</text>

  <!-- Outputs -->
  <rect x="80" y="178" width="160" height="38" rx="6" fill="#ef4444" opacity="0.12" stroke="#ef4444" stroke-width="1"/>
  <text x="160" y="202" text-anchor="middle" fill="#ef4444" font-family="Arial,sans-serif" font-size="11">Base: ~14 GB</text>
  <rect x="320" y="178" width="160" height="38" rx="6" fill="#10b981" opacity="0.12" stroke="#10b981" stroke-width="1"/>
  <text x="400" y="202" text-anchor="middle" fill="#10b981" font-family="Arial,sans-serif" font-size="11">Adapter: ~10 MB</text>
  <rect x="560" y="178" width="160" height="38" rx="6" fill="#8b5cf6" opacity="0.12" stroke="#8b5cf6" stroke-width="1"/>
  <text x="640" y="202" text-anchor="middle" fill="#8b5cf6" font-family="Arial,sans-serif" font-size="11">Merged: ~14 GB</text>

  <text x="400" y="248" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">Only adapter weights are saved &#8594; share base model, swap tiny adapters per task</text>
</svg>
