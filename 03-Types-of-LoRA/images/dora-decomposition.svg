<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 460" font-family="Segoe UI,system-ui,sans-serif">
  <defs>
    <filter id="sh" x="-3%" y="-3%" width="108%" height="108%"><feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.1"/></filter>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#64748b"/></marker>
  </defs>
  <rect width="900" height="460" rx="16" fill="#fafbff" stroke="#e2e8f0" stroke-width="1.5"/>
  <text x="450" y="32" text-anchor="middle" font-size="18" font-weight="700" fill="#1e293b">DoRA: Weight-Decomposed LoRA</text>
  <text x="450" y="50" text-anchor="middle" font-size="11" fill="#64748b">Separate magnitude m and direction V/||V||</text>

  <rect x="30" y="75" width="400" height="360" rx="12" fill="#f8fafc" stroke="#94a3b8" stroke-width="1.5"/>
  <text x="230" y="100" text-anchor="middle" font-size="14" font-weight="700" fill="#475569">Standard LoRA</text>

  <rect x="60" y="120" width="130" height="45" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="125" y="142" text-anchor="middle" font-size="12" font-weight="700" fill="#1d4ed8">W&#8320; (frozen)</text>

  <text x="215" y="145" text-anchor="middle" font-size="18" font-weight="700" fill="#475569">+</text>

  <rect x="235" y="120" width="130" height="45" rx="8" fill="#fff7ed" stroke="#ea580c" stroke-width="2"/>
  <text x="300" y="142" text-anchor="middle" font-size="12" font-weight="700" fill="#c2410c">&#916;W</text>
  <text x="300" y="158" text-anchor="middle" font-size="9" fill="#ea580c">single update</text>

  <text x="230" y="195" text-anchor="middle" font-size="12" fill="#475569"> monolithic W update</text>

  <rect x="60" y="220" width="310" height="55" rx="8" fill="#eff6ff" stroke="#6366f1" stroke-width="2"/>
  <text x="215" y="242" text-anchor="middle" font-size="11" font-weight="700" fill="#4f46e5">W' = W&#8320; + &#945;/r &#215; BA</text>
  <text x="215" y="260" text-anchor="middle" font-size="9" fill="#6366f1">magnitude + direction entangled</text>

  <rect x="60" y="295" width="310" height="55" rx="8" fill="#fef2f2" stroke="#dc2626" stroke-width="1.5"/>
  <text x="215" y="315" text-anchor="middle" font-size="10" font-weight="700" fill="#991b1b">Problem: coupled updates</text>

  <text x="450" y="245" text-anchor="middle" font-size="24" font-weight="700" fill="#16a34a">&#8594;</text>
  <text x="450" y="270" text-anchor="middle" font-size="10" font-weight="600" fill="#16a34a">DoRA</text>

  <rect x="470" y="75" width="400" height="360" rx="12" fill="#f0fdf4" stroke="#16a34a" stroke-width="2"/>
  <text x="670" y="100" text-anchor="middle" font-size="14" font-weight="700" fill="#15803d">DoRA</text>

  <rect x="500" y="125" width="340" height="120" rx="10" fill="white" stroke="#6366f1" stroke-width="2"/>
  <text x="670" y="148" text-anchor="middle" font-size="11" font-weight="700" fill="#4f46e5">Direction (LoRA on V only)</text>

  <rect x="520" y="165" width="90" height="35" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="565" y="188" text-anchor="middle" font-size="10" font-weight="600" fill="#1d4ed8">W&#8320;</text>

  <text x="628" y="185" text-anchor="middle" font-size="14" font-weight="700" fill="#475569">+</text>

  <rect x="645" y="165" width="70" height="35" rx="6" fill="#fff7ed" stroke="#ea580c" stroke-width="1.5"/>
  <text x="680" y="188" text-anchor="middle" font-size="10" font-weight="600" fill="#ea580c">&#945;/r BA</text>

  <text x="750" y="188" text-anchor="middle" font-size="12" fill="#475569">/ ||V||</text>

  <rect x="500" y="265" width="340" height="80" rx="10" fill="white" stroke="#f59e0b" stroke-width="2"/>
  <text x="670" y="288" text-anchor="middle" font-size="11" font-weight="700" fill="#b45309">Magnitude m (learnable)</text>
  <rect x="570" y="300" width="200" height="30" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="670" y="320" text-anchor="middle" font-size="10" font-weight="600" fill="#b45309">m &#955; per-neuron scalar</text>

  <rect x="510" y="365" width="320" height="55" rx="10" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
  <text x="670" y="385" text-anchor="middle" font-size="11" font-weight="700" fill="#15803d">W' = m &#215; (W&#8320;+&#945;/r BA) / ||W&#8320;+&#945;/r BA||</text>
  <text x="670" y="405" text-anchor="middle" font-size="9" fill="#16a34a">LoRA modifies direction only</text>
</svg>