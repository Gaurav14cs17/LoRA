<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350">
  <rect width="800" height="350" rx="12" fill="#0f172a"/>
  <text x="400" y="35" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="18" font-weight="bold">Which Modules to Target with LoRA</text>

  <!-- Transformer block -->
  <rect x="220" y="55" width="340" height="240" rx="10" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
  <text x="390" y="78" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Transformer Layer</text>

  <!-- Attention sub-block -->
  <rect x="240" y="92" width="300" height="85" rx="6" fill="#0f172a" stroke="#3b82f6" stroke-width="1"/>
  <text x="390" y="112" text-anchor="middle" fill="#3b82f6" font-family="Arial,sans-serif" font-size="11" font-weight="bold">Multi-Head Attention</text>
  <rect x="252" y="122" width="62" height="28" rx="4" fill="#10b981" opacity="0.8"/>
  <text x="283" y="141" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11" font-weight="bold">Q</text>
  <rect x="320" y="122" width="62" height="28" rx="4" fill="#f59e0b" opacity="0.5"/>
  <text x="351" y="141" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11">K</text>
  <rect x="388" y="122" width="62" height="28" rx="4" fill="#10b981" opacity="0.8"/>
  <text x="419" y="141" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11" font-weight="bold">V</text>
  <rect x="456" y="122" width="62" height="28" rx="4" fill="#f59e0b" opacity="0.5"/>
  <text x="487" y="141" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="11">O</text>
  <text x="295" y="168" fill="#10b981" font-family="Arial,sans-serif" font-size="9">&#9632; Original paper (Q,V)</text>
  <text x="430" y="168" fill="#f59e0b" font-family="Arial,sans-serif" font-size="9">&#9632; +K,O (better)</text>

  <!-- FFN sub-block -->
  <rect x="240" y="190" width="300" height="72" rx="6" fill="#0f172a" stroke="#8b5cf6" stroke-width="1"/>
  <text x="390" y="210" text-anchor="middle" fill="#8b5cf6" font-family="Arial,sans-serif" font-size="11" font-weight="bold">Feed-Forward Network</text>
  <rect x="252" y="220" width="86" height="28" rx="4" fill="#8b5cf6" opacity="0.5"/>
  <text x="295" y="239" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="10">Up</text>
  <rect x="346" y="220" width="86" height="28" rx="4" fill="#8b5cf6" opacity="0.5"/>
  <text x="389" y="239" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="10">Gate</text>
  <rect x="440" y="220" width="86" height="28" rx="4" fill="#8b5cf6" opacity="0.5"/>
  <text x="483" y="239" text-anchor="middle" fill="white" font-family="Arial,sans-serif" font-size="10">Down</text>

  <!-- Legend -->
  <rect x="600" y="95" width="175" height="115" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="687" y="118" text-anchor="middle" fill="#e2e8f0" font-family="Arial,sans-serif" font-size="11" font-weight="bold">Recommendation</text>
  <rect x="615" y="132" width="10" height="10" rx="2" fill="#10b981"/>
  <text x="632" y="142" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">Must apply</text>
  <rect x="615" y="150" width="10" height="10" rx="2" fill="#f59e0b"/>
  <text x="632" y="160" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">Recommended</text>
  <rect x="615" y="168" width="10" height="10" rx="2" fill="#8b5cf6"/>
  <text x="632" y="178" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">Modern best practice</text>
  <text x="687" y="200" text-anchor="middle" fill="#10b981" font-family="Arial,sans-serif" font-size="10" font-weight="bold">"all-linear"</text>

  <!-- Bottom -->
  <text x="400" y="325" text-anchor="middle" fill="#f59e0b" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Best practice: target_modules = "all-linear" (all 7 projections)</text>
  <text x="400" y="345" text-anchor="middle" fill="#94a3b8" font-family="Arial,sans-serif" font-size="10">~2x params vs Q,V only, but significantly better quality</text>
</svg>
